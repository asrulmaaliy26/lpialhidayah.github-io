<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Sekolah Islam Alhidayah</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="icon" href="images/LOGOLPI.png">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Roboto:wght@400;500;700;900&display=swap"
        rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link rel="stylesheet" href="lib/animate/animate.min.css" />
    <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">


    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
</head>

<body>



    <?php require 'navbar.php' ?>
    <!-- Header Start -->
    <div class="container-fluid bg-breadcrumb">
        <div class="container text-center py-5" style="max-width: 900px;">
            <h4 class="text-white display-4 mb-4 wow fadeInDown" data-wow-delay="0.1s">Afiliasi Kampus Al Hidayah</h4>

            <ol class="breadcrumb d-flex justify-content-center mb-0 wow fadeInDown" data-wow-delay="0.3s">
                <li class="breadcrumb-item"><a href="index.php">Home</a></li>
                <li class="breadcrumb-item"><a href="#">LPI</a></li>
                <li class="breadcrumb-item active text-primary">Afiliasi Kampus Al Hidayah</li>
            </ol>
        </div>
    </div>
    <!-- Header End -->
    </div>
    <!-- Navbar & Hero End -->

    <a href="https://ppdb.almannan.id/" style="text-decoration: none;">
        <div style="width: 100%; height: 100px; background: url('images/ppdb.png') no-repeat center center; background-size: cover; color: white; display: flex; justify-content: center; align-items: center; font-size: 24px; font-weight: bold; transition: background-color 0.3s;">
        </div>
    </a>


    <!-- Abvout Start -->
    <div class="container-fluid about py-5">
        <div class="container py-5">
            <div class="row g-5 align-items-center">
                <div class="text-center mx-auto wow fadeInUp" data-wow-delay="0.2s" style="max-width: 800px;">
                    <h4 class="text-primary">About Us</h4>
                    <h1 class="display-5">Video Profil</h1>
                </div>
                <div class="col-xl-5 wow fadeInRight" data-wow-delay="0.2s">
                    <div class="bg-primary rounded position-relative overflow-hidden">
                        <iframe style="padding: 20px;" width="100%" height="315"
                            src="https://www.youtube.com/embed/1iDEgAOfr6k?si=OzusF-J7RLyTXTwm" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen></iframe>
                    </div>
                </div>
                <div class="col-xl-7 wow fadeInLeft" data-wow-delay="0.2s">
                    <div>
                        <p class="mb-4">Kami dengan bangga mengundang putra-putri Anda untuk bergabung bersama kami
                            dalam lingkungan pendidikan yang Islami dan berprestasi. Di PP Al Mannan, kami tidak hanya
                            fokus pada pembelajaran akademis, tetapi juga pada pembentukan karakter Islami dan
                            pengembangan kemampuan hafalan Al-Qur'an.

                        </p>
                        <div class="row g-4">
                            <div class="col-sm-6">
                                <a class="btn btn-light rounded-pill py-3 px-4 px-md-5 me-2" href="https://www.youtube.com/embed/1iDEgAOfr6k?si=OzusF-J7RLyTXTwm"><i
                                        class="fas fa-play-circle me-2"></i> Watch Video</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- About End -->
    <!-- Features Start -->
    <div class="container-fluid feature pb-5 background-section" style="background-image: url('images/bg1.png'); background-attachment: fixed; background-size: cover; background-position: center;">
        <div class="container py-5">
            <div class="text-center mx-auto pb-5 wow fadeInUp" data-wow-delay="0.2s" style="max-width: 800px;">
                <h4 class="text-white " style="font-weight: 700;">Our Features</h4>
            </div>
            <div class="row g-4">
                <div class="col-md-6 col-lg-6 col-xl-3 wow fadeInUp" data-wow-delay="0.2s">
                    <div class="feature-item p-4">
                        <div class="feature-icon p-4 mb-4">
                            <i class="fas fa-chalkboard-teacher  fa-4x text-primary"></i>
                        </div>
                        <h4>Pengajar Dipo</h4>
                        <p class="mb-4">8
                        </p>
                        <a class="btn btn-primary rounded-pill py-2 px-4" href="404.php">Learn More</a>
                    </div>
                </div>
                <div class="col-md-6 col-lg-6 col-xl-3 wow fadeInUp" data-wow-delay="0.4s">
                    <div class="feature-item p-4">
                        <div class="feature-icon p-4 mb-4">
                            <i class="fas fa-university fa-4x text-primary"></i>
                        </div>
                        <h4>Total Mahasantri</h4>
                        <p class="mb-4">27
                        </p>
                        <a class="btn btn-primary rounded-pill py-2 px-4" href="404.php">Learn More</a>
                    </div>
                </div>
                <div class="col-md-6 col-lg-6 col-xl-3 wow fadeInUp" data-wow-delay="0.6s">
                    <div class="feature-item p-4">
                        <div class="feature-icon p-4 mb-4">
                            <i class="fas fa-graduation-cap fa-4x text-primary"></i>
                        </div>
                        <h4>Pengajar UBHI</h4>
                        <p class="mb-4">7
                        </p>
                        <a class="btn btn-primary rounded-pill py-2 px-4" href="404.php">Learn More</a>
                    </div>
                </div>
                <div class="col-md-6 col-lg-6 col-xl-3 wow fadeInUp" data-wow-delay="0.8s">
                    <div class="feature-item p-4">
                        <div class="feature-icon p-4 mb-4">
                            <i class="fas fa-file-alt fa-4x text-primary"></i>
                        </div>
                        <h4>Total Mahasantri</h4>
                        <p class="mb-4">72
                        </p>
                        <a class="btn btn-primary rounded-pill py-2 px-4" href="404.php">Learn More</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Features End -->
    <?php
    require 'data.php';

    // Menentukan jumlah post per halaman
    $posts_per_page = 6;

    // Mendapatkan halaman saat ini dari query string, default ke halaman 1 jika tidak ada
    $current_page = isset($_GET['page']) ? (int)$_GET['page'] : 1;

    // Menghitung offset untuk query
    $offset = ($current_page - 1) * $posts_per_page;

    // Mendapatkan artikel berdasarkan tipe '6' dan '1'
    $articlesType6 = $controller->getArticleByOneTypes('pendidikan', '6') ?? [];
    $articlesType1 = $controller->getArticleByOneTypes('pendidikan', '1') ?? [];

    // Menggabungkan artikel dari kedua tipe
    $articlesMA = array_merge($articlesType6, $articlesType1);

    // Mendapatkan kategori
    $getCategory = $controller->getCategory();

    // Menghitung jumlah total post
    $total_posts = count($articlesMA);


    // Memotong array berdasarkan halaman yang aktif
    $posts_on_current_page = array_slice($articlesMA, $offset, $posts_per_page);

    // Menghitung jumlah halaman yang diperlukan
    $total_pages = ceil($total_posts / $posts_per_page);

    // Fungsi untuk memotong teks
    function truncateContent($text, $maxLength)
    {
        return strlen($text) > $maxLength ? substr($text, 0, $maxLength) . '...' : $text;
    }

    ?>
    <style>
        .contact-section {
            padding: 40px 0;
            background: #e2e2e2;
        }

        .contact-image {
            max-width: 100%;
            height: auto;
        }

        .contact-info h1 {
            font-size: 2.5rem;
            font-weight: bold;
        }

        .contact-info p {
            color: #6c757d;
        }

        .btn-contact {
            background-color: #6200ee;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
        }

        .btn-contact:hover {
            background-color: #3700b3;
        }
    </style>

    <section class="contact-section mb-5">

        <div class="text-center mt-5 mx-auto wow fadeInUp" data-wow-delay="0.2s" style="max-width: 800px;">
            <h4 class="text-primary">Kampus Afiliasi</h4>
            <h1 class="display-5">Universitas Bhineka</h1>
        </div>
        <div class="container">
            <div class="row align-items-center">
                <!-- Image Section -->
                <div class="col-md-6 ml-5 text-center  wow fadeInLeft" data-wow-delay="0.2s">
                    <img src="images/logo_ubhi.png" alt="Contact Form Image" class="contact-image" style="width: 60%;">
                </div>
                <!-- Info Section -->
                <div class="col-md-6  wow fadeInRight" data-wow-delay="0.2s">
                    <div class="contact-info">
                        <h6 class="text-primary my-3">Penjurusan</h6>
                        <h1>S1 Pendidikan Kewarganegaraan</h1>
                        <p>A working form with Ajax is a form that uses the Ajax (Asynchronous JavaScript and XML) technology to submit data to a web server without reloading the entire page. This allows for a more seamless and user-friendly experience as the user can submit data and receive feedback without interruption.</p>
                        <a href="#" class="btn-contact">Contact Us</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="contact">
        <div class="text-center mt-5 mx-auto wow fadeInUp" data-wow-delay="0.2s" style="max-width: 800px;">
            <h4 class="text-primary">Kampus Afiliasi</h4>
            <h1 class="display-5">STAI Diponegoro</h1>
        </div>
        <div class="container">
            <div class="row align-items-center">
                <!-- Info Section -->
                <div class="col-md-6 wow fadeInLeft" data-wow-delay="0.2s">
                    <div class="contact-info">
                        <h6 class="text-primary my-4">Penjurusan</h6>
                        <h1>S1 Penddidkan Agama Islam</h1>
                        <p>A working form with Ajax is a form that uses the Ajax (Asynchronous JavaScript and XML) technology to submit data to a web server without reloading the entire page. This allows for a more seamless and user-friendly experience as the user can submit data and receive feedback without interruption.</p>
                        <a href="#" class="btn-contact">Contact Us</a>
                    </div>
                </div>
                <!-- Image Section -->
                <div class="col-md-6 ml-5 text-center wow fadeInRight" data-wow-delay="0.2s">
                    <img src="images/logo_stai_dipo.jpg" alt="Contact Form Image" class="contact-image" style="width: 60%;">
                </div>
            </div>
        </div>
    </section>

    <?php
    // Memeriksa apakah ada error dalam array articlesMA
    if (isset($articlesMA['error'])) {
        // Menampilkan pesan error jika ditemukan
        echo '<p class="text-center m-5">Article tidak ditemukan.</p>';
        require 'footer.php';
        exit();
    }
    ?>

    <div class="container-fluid berita py-5">
        <div class="container py-5">
            <div class="row g-4 mb-5">
                <?php if (!empty($posts_on_current_page)): ?>
                    <?php foreach ($posts_on_current_page as $post): ?>
                        <div class="col-md-6 col-lg-4 wow fadeInUp" data-wow-delay="0.2s">
                            <div class="berita-item">
                                <div class="berita-img">
                                    <img src="<?php echo htmlspecialchars($post['article_image'], ENT_QUOTES, 'UTF-8'); ?>" class="img-fluid rounded-top w-100" style="height: 250px; object-fit: cover;" alt="<?php echo htmlspecialchars($post['article_title'], ENT_QUOTES, 'UTF-8'); ?>">
                                </div>
                                <div class="rounded-bottom p-4">
                                    <a href="detail.php?id=<?php echo $post['article_id']; ?>" class="h4 d-inline-block mb-4"><?php echo htmlspecialchars($post['article_title'], ENT_QUOTES, 'UTF-8'); ?></a>
                                    <p class="mb-4">
                                        <?php
                                        // Deteksi apakah konten memiliki gambar menggunakan regex
                                        if (preg_match('/<img[^>]*>/i', $post['article_content'])) {
                                            echo "Lihat gambar selengkapnya";
                                        } else {
                                            $content = strip_tags($post['article_content'] ?? '');
                                            echo strlen($content) > 200 ? substr($content, 0, 200) . '...' : $content;
                                        }
                                        ?>
                                    </p>
                                    <a class="btn btn-primary rounded-pill py-2 px-4" href="detail.php?id=<?php echo $post['article_id']; ?>">Learn More</a>
                                </div>
                            </div>
                        </div>
                    <?php endforeach; ?>
                <?php else: ?>
                    <p>No articles found.</p>
                <?php endif; ?>
            </div>

            <!-- Pagination Controls -->
            <nav aria-label="Page navigation">
                <ul class="pagination justify-content-between">
                    <!-- Previous Arrow -->
                    <?php if ($current_page > 1): ?>
                        <li class="page-item">
                            <a class="page-link" href="?page=<?php echo $current_page - 1; ?>" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                    <?php endif; ?>

                    <!-- Page Numbers -->
                    <?php for ($i = 1; $i <= $total_pages; $i++): ?>
                        <li class="page-item <?php if ($i == $current_page) echo 'active'; ?>">
                            <a class="page-link" href="?page=<?php echo $i; ?>"><?php echo $i; ?></a>
                        </li>
                    <?php endfor; ?>

                    <!-- Next Arrow -->
                    <?php if ($current_page < $total_pages): ?>
                        <li class="page-item">
                            <a class="page-link" href="?page=<?php echo $current_page + 1; ?>" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                    <?php endif; ?>
                </ul>
            </nav>
        </div>
    </div>

    <?php require 'footer.php' ?>